# ═══════════════════════════════════════════════════════════════════════════
# USER MANAGER - CONFIGURATION ENVIRONMENT
# © Copyright Nbility 2025
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

DB_HOST=user-manager-db
DB_PORT=3306
DB_NAME=user_manager
DB_USER=user_manager
DB_PASSWORD=changeme_secure_password_here

# ═══════════════════════════════════════════════════════════════════════════
# SECURITY CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

# Secret key for JWT tokens (generate with: openssl rand -hex 32)
JWT_SECRET=your_super_secret_key_change_me_in_production

# Session lifetime in seconds (3600 = 1 hour)
SESSION_LIFETIME=3600

# CSRF token lifetime in seconds (3600 = 1 hour)
CSRF_TOKEN_LIFETIME=3600

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=false

# ═══════════════════════════════════════════════════════════════════════════
# RATE LIMITING
# ═══════════════════════════════════════════════════════════════════════════

# Maximum requests per window
RATE_LIMIT_REQUESTS=100

# Window duration in seconds (60 = 1 minute)
RATE_LIMIT_WINDOW=60

# Login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Lockout duration in seconds (900 = 15 minutes)
LOCKOUT_DURATION=900

# ═══════════════════════════════════════════════════════════════════════════
# LOGGING
# ═══════════════════════════════════════════════════════════════════════════

# Log level: debug, info, warning, error
LOG_LEVEL=info

# Log file path
LOG_FILE=/var/log/user-manager/app.log

# Enable audit logging
AUDIT_ENABLED=true

# Audit log retention in days (0 = never delete)
AUDIT_RETENTION_DAYS=90

# ═══════════════════════════════════════════════════════════════════════════
# APPLICATION SETTINGS
# ═══════════════════════════════════════════════════════════════════════════

# Application name
APP_NAME="User Manager"

# Application version
APP_VERSION=2.0

# Environment: development, production
APP_ENV=production

# Debug mode (true/false)
APP_DEBUG=false

# Timezone
APP_TIMEZONE=Europe/Paris

# Language
APP_LANGUAGE=fr

# ═══════════════════════════════════════════════════════════════════════════
# EMAIL CONFIGURATION (Optional - for notifications)
# ═══════════════════════════════════════════════════════════════════════════

MAIL_ENABLED=false
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=noreply@example.com
MAIL_PASSWORD=your_mail_password
MAIL_FROM=noreply@example.com
MAIL_FROM_NAME="User Manager"
MAIL_ENCRYPTION=tls

# ═══════════════════════════════════════════════════════════════════════════
# BACKUP CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

# Backup directory
BACKUP_DIR=/var/backups/user-manager

# Backup retention in days
BACKUP_RETENTION_DAYS=30

# Enable automatic backups
BACKUP_ENABLED=true

# ═══════════════════════════════════════════════════════════════════════════
# PERFORMANCE
# ═══════════════════════════════════════════════════════════════════════════

# Enable caching
CACHE_ENABLED=true

# Cache lifetime in seconds (3600 = 1 hour)
CACHE_LIFETIME=3600

# Maximum records per page
MAX_PER_PAGE=100

# Default records per page
DEFAULT_PER_PAGE=25

# ═══════════════════════════════════════════════════════════════════════════
# CORS (If API is accessed from different domain)
# ═══════════════════════════════════════════════════════════════════════════

CORS_ENABLED=false
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE
CORS_ALLOWED_HEADERS=Content-Type,Authorization
